{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "meta": {
    "title": "WordPress 7.0 Beta — Comprehensive Test Suite",
    "description": "Full testing environment for WordPress 7.0 Beta 1 with test content, debugging plugins, and multiple themes.",
    "author": "WP 7.0 Test Team"
  },
  "landingPage": "/wp-admin/",
  "preferredVersions": {
    "php": "8.3",
    "wp": "beta"
  },
  "features": {
    "networking": true
  },
  "phpExtensionBundles": ["kitchen-sink"],
  "steps": [
    {
      "step": "login",
      "username": "admin",
      "password": "password"
    },
    {
      "step": "importWxr",
      "file": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/WordPress/theme-test-data/master/themeunittestdata.wordpress.xml"
      },
      "progress": {
        "weight": 3,
        "caption": "Importing theme test data..."
      }
    },
    {
      "step": "importWxr",
      "file": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/wpaccessibility/a11y-theme-unit-test/master/a11y-theme-unit-test-data.xml"
      },
      "progress": {
        "weight": 3,
        "caption": "Importing accessibility test data..."
      }
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "wordpress.org/plugins",
        "slug": "query-monitor"
      },
      "options": { "activate": false },
      "progress": { "weight": 2 }
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "wordpress.org/plugins",
        "slug": "health-check"
      },
      "progress": { "weight": 2 }
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "wordpress.org/plugins",
        "slug": "test-reports"
      },
      "progress": { "weight": 2 }
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "wordpress.org/plugins",
        "slug": "create-block-theme"
      },
      "progress": { "weight": 2 }
    },
    {
      "step": "installPlugin",
      "pluginData": {
        "resource": "wordpress.org/plugins",
        "slug": "user-switching"
      },
      "progress": { "weight": 2 }
    },
    {
      "step": "setSiteOptions",
      "options": {
        "blogname": "WP 7.0 Test Site",
        "blogdescription": "Testing WordPress 7.0 Beta 1",
        "permalink_structure": "/%postname%/",
        "default_comment_status": "open"
      }
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/mu-plugins/enable-debug.php",
      "data": "<?php\n// Enable debugging for testing\nif ( ! defined( 'WP_DEBUG_LOG' ) ) {\n    define( 'WP_DEBUG_LOG', true );\n}\nif ( ! defined( 'WP_DEBUG_DISPLAY' ) ) {\n    define( 'WP_DEBUG_DISPLAY', true );\n}\nif ( ! defined( 'SCRIPT_DEBUG' ) ) {\n    define( 'SCRIPT_DEBUG', true );\n}\n"
    },
    {
      "step": "runPHP",
      "code": "<?php\nrequire '/wordpress/wp-load.php';\n\n// Create a test post with multiple block types for revision testing\n$post_id = wp_insert_post(array(\n  'post_title' => 'Visual Revisions Test Post',\n  'post_content' => '<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Welcome to the Revisions Test</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>This is the initial version of the post. Edit this content multiple times to generate revisions, then test the new Visual Revisions feature.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul class=\"wp-block-list\"><!-- wp:list-item -->\n<li>First item to track changes</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Second item for diff testing</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Third item to verify markers</li>\n<!-- /wp:list-item --></ul>\n<!-- /wp:list -->\n\n<!-- wp:quote -->\n<blockquote class=\"wp-block-quote\"><!-- wp:paragraph -->\n<p>Test formatting changes here — try bold, italic, links.</p>\n<!-- /wp:paragraph --></blockquote>\n<!-- /wp:quote -->',\n  'post_status' => 'publish',\n  'post_author' => 1\n));\n\n// Create revision 1\nwp_update_post(array(\n  'ID' => $post_id,\n  'post_content' => '<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Welcome to the Revisions Test (Edited)</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>This is the SECOND version. The heading and this paragraph changed. Check the green and red highlights in Visual Revisions.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul class=\"wp-block-list\"><!-- wp:list-item -->\n<li>First item to track changes</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Modified second item</li>\n<!-- /wp:list-item -->\n\n<!-- wp:list-item -->\n<li>Third item to verify markers</li>\n<!-- /wp:list-item --></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p>This is a brand new paragraph added in revision 2.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:quote -->\n<blockquote class=\"wp-block-quote\"><!-- wp:paragraph -->\n<p>Test <strong>formatting changes</strong> here — try bold, italic, <a href=\"https://example.com\">links</a>.</p>\n<!-- /wp:paragraph --></blockquote>\n<!-- /wp:quote -->'\n));\n\n// Create a hierarchical page structure for Breadcrumbs testing\n$parent = wp_insert_post(array(\n  'post_title' => 'Parent Page — Breadcrumbs Test',\n  'post_content' => '<!-- wp:paragraph -->\n<p>This is the top-level parent page. Use this hierarchy to test the Breadcrumbs block.</p>\n<!-- /wp:paragraph -->',\n  'post_status' => 'publish',\n  'post_type' => 'page',\n  'post_author' => 1\n));\n\n$child = wp_insert_post(array(\n  'post_title' => 'Child Page — Breadcrumbs Test',\n  'post_content' => '<!-- wp:paragraph -->\n<p>This is a child page. Insert the Breadcrumbs block here to test hierarchy display.</p>\n<!-- /wp:paragraph -->',\n  'post_status' => 'publish',\n  'post_type' => 'page',\n  'post_parent' => $parent,\n  'post_author' => 1\n));\n\n$grandchild = wp_insert_post(array(\n  'post_title' => 'Grandchild Page — Breadcrumbs Test',\n  'post_content' => '<!-- wp:paragraph -->\n<p>This is a grandchild page — three levels deep. Perfect for verifying Breadcrumbs block behavior.</p>\n<!-- /wp:paragraph -->',\n  'post_status' => 'publish',\n  'post_type' => 'page',\n  'post_parent' => $child,\n  'post_author' => 1\n));\n\n// Create a post for Tabs block testing\nwp_insert_post(array(\n  'post_title' => 'Tabs Block Test Post',\n  'post_content' => '<!-- wp:paragraph -->\n<p>Insert the new Tabs block below this paragraph to test tabbed content areas. Try nesting various blocks inside each tab.</p>\n<!-- /wp:paragraph -->',\n  'post_status' => 'publish',\n  'post_author' => 1\n));\n\n// Create a post for Icon block testing\nwp_insert_post(array(\n  'post_title' => 'Icon Block Test Post',\n  'post_content' => '<!-- wp:paragraph -->\n<p>Insert the new Icon block below to test icon selection, sizing, and styling options.</p>\n<!-- /wp:paragraph -->',\n  'post_status' => 'publish',\n  'post_author' => 1\n));\n\n// Create a post for Responsive Editing Mode testing\nwp_insert_post(array(\n  'post_title' => 'Responsive Editing Mode Test',\n  'post_content' => '<!-- wp:heading -->\n<h2 class=\"wp-block-heading\">Desktop-Only Content</h2>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>This paragraph should be visible on all devices. Use the block toolbar three-dot menu to hide specific blocks on desktop, tablet, or mobile.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:heading {\"level\":3} -->\n<h3 class=\"wp-block-heading\">Try hiding this heading on mobile</h3>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph -->\n<p>After hiding blocks, check List View for the crossed-eye icon indicator. Verify on the frontend across screen sizes.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:image -->\n<figure class=\"wp-block-image\"><img alt=\"Placeholder for responsive test\"/></figure>\n<!-- /wp:image -->',\n  'post_status' => 'publish',\n  'post_author' => 1\n));\n\n// Create editor user for RTC testing\nwp_insert_user(array(\n  'user_login' => 'editor',\n  'user_pass' => 'password',\n  'user_email' => 'editor@test.local',\n  'role' => 'editor',\n  'display_name' => 'Test Editor'\n));\n\nwp_insert_user(array(\n  'user_login' => 'author',\n  'user_pass' => 'password',\n  'user_email' => 'author@test.local',\n  'role' => 'author',\n  'display_name' => 'Test Author'\n));\n\necho 'Test content and users created successfully.';\n"
    }
  ]
}
